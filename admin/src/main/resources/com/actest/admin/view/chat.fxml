<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.actest.admin.controller.ChatController" stylesheets="@../../../../styles.css">
    <left>
        <javafx.scene.control.TabPane tabClosingPolicy="UNAVAILABLE" style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-width: 0 1 0 0; -fx-min-width: 300; -fx-pref-width: 300;">
            <tabs>
                <javafx.scene.control.Tab text="Friends">
                    <VBox spacing="10" style="-fx-padding: 10;">
                        <Label text="My Friends" styleClass="header-label"/>
                        <ListView fx:id="friendListView" VBox.vgrow="ALWAYS" />
                        <Button text="Back to Dashboard" onAction="#handleBack" styleClass="button-secondary" maxWidth="Infinity"/>
                    </VBox>
                </javafx.scene.control.Tab>
                <javafx.scene.control.Tab text="Search">
                    <VBox spacing="10" style="-fx-padding: 10;">
                        <Label text="Find Admins" styleClass="header-label"/>
                        <HBox spacing="5">
                            <javafx.scene.control.TextField fx:id="searchField" promptText="Name or Email..." HBox.hgrow="ALWAYS"/>
                            <Button text="Search" onAction="#handleSearch" styleClass="button-primary"/>
                        </HBox>
                        <ListView fx:id="searchResultListView" VBox.vgrow="ALWAYS" />
                    </VBox>
                </javafx.scene.control.Tab>
                <javafx.scene.control.Tab text="Requests">
                    <VBox spacing="10" style="-fx-padding: 10;">
                        <Label text="Friend Requests" styleClass="header-label"/>
                        <ListView fx:id="requestListView" VBox.vgrow="ALWAYS" />
                    </VBox>
                </javafx.scene.control.Tab>
            </tabs>
        </javafx.scene.control.TabPane>
    </left>
    <center>
        <VBox spacing="10" style="-fx-padding: 10;">
            <Label fx:id="chatWithLabel" text="Select a user to chat" styleClass="header-label"/>
            <ScrollPane fx:id="messageScrollPane" fitToWidth="true" VBox.vgrow="ALWAYS" style="-fx-background-color: transparent;">
                <VBox fx:id="messageContainer" spacing="10" style="-fx-padding: 10;"/>
            </ScrollPane>
            <HBox spacing="10">
                <TextArea fx:id="messageInput" promptText="Type a message..." prefRowCount="2" HBox.hgrow="ALWAYS"/>
                <Button text="Send" onAction="#handleSend" styleClass="button-primary" prefHeight="50"/>
            </HBox>
        </VBox>
    </center>
</BorderPane>
